<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>盒子里的球</title>
</head>
<body>
    盒子数量：<input type="text" id="input"><br>
    盒子里的球：<input type="text" id="ball-input" value="ABCD"><br>
    <button type="button" id="btn">print</button>
    <div id="out"></div>


    <script>
        "use strict";
        function printBall(arr, l){
           var n
           , temp
           , res, resArr = []
           , max = Math.pow(arr.length, l);

           for(n=0; n<max; n++){
              temp = n.toString(arr.length);
              res = Array(l - temp.length + 1).join(arr[0]) + temp.split('').map(function(i){return arr[i];}).join('');
              resArr.push(res);
           }
           return resArr;
        }

        var outElem = document.getElementById('out')
        , inputElem = document.getElementById('input')
        , btnElem = document.getElementById('btn')
        , ballInputElem = document.getElementById('ball-input');

        btnElem.onclick = function(){
            var arr = printBall(ballInputElem.value, inputElem.value);
            outElem.innerHTML = arr.join('<br>');
        };
    </script>
</body>
</html>